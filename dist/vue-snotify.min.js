/**
 * @fireguard/vue-snotify v3.2.2
 * (c) 2020 artemsky <mr.artemsky@gmail.com>
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],e):e(t["vue-snotify"]={},t.Vue)}(this,function(t,e){"use strict";var i;e=e&&e.hasOwnProperty("default")?e.default:e,(i=t.SnotifyPosition||(t.SnotifyPosition={})).leftTop="leftTop",i.leftCenter="leftCenter",i.leftBottom="leftBottom",i.rightTop="rightTop",i.rightCenter="rightCenter",i.rightBottom="rightBottom",i.centerTop="centerTop",i.centerCenter="centerCenter",i.centerBottom="centerBottom";var o={simple:"simple",success:"success",error:"error",warning:"warning",info:"info",async:"async",confirm:"confirm",prompt:"prompt"};var n=function(t,e,i,o,n,s,a,r,c,f){"boolean"!=typeof a&&(c=r,r=a,a=!1);var u,l="function"==typeof i?i.options:i;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,n&&(l.functional=!0)),o&&(l._scopeId=o),s?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=u):e&&(u=a?function(){e.call(this,f(this.$root.$options.shadowRoot))}:function(t){e.call(this,r(t))}),u)if(l.functional){var p=l.render;l.render=function(t,e){return u.call(e),p(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return i};var s=n({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"snotifyToast__input",class:{"snotifyToast__input--filled":t.isPromptFocused}},[i("input",{staticClass:"snotifyToast__input__field",attrs:{type:"text",id:t.toast.id},on:{input:t.valueChanged,focus:function(e){t.isPromptFocused=!0},blur:function(e){t.isPromptFocused=!!t.toast.value.length}}}),t._v(" "),i("label",{staticClass:"snotifyToast__input__label",attrs:{for:t.toast.id}},[i("span",{staticClass:"snotifyToast__input__labelContent"},[t._v(t._s(t._f("truncate")(t.toast.config.placeholder)))])])])},staticRenderFns:[]},void 0,e.extend({props:["toast"],data:function(){return{isPromptFocused:!1}},methods:{valueChanged:function(t){this.toast.value=t.target.value,this.toast.eventEmitter.$emit("input")}}}),void 0,!1,void 0,void 0,void 0);var a=n({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"snotifyToast__buttons"},t._l(t.toast.config.buttons,function(e){return i("button",{class:[{"snotifyToast__buttons--bold":e.bold},e.className],attrs:{type:"button"},on:{click:function(i){i.preventDefault(),i.stopPropagation(),e.action?e.action(t.toast):t.remove()}}},[t._v("\n    "+t._s(e.text)+"\n  ")])}))},staticRenderFns:[]},void 0,e.extend({props:["toast"],methods:{remove:function(){this.$snotify.remove(this.toast.id)}}}),void 0,!1,void 0,void 0,void 0);var r=n({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"snotifyToast animated",class:["snotify-"+t.toast.config.type,t.state.animation,void 0===t.toast.valid?"":t.toast.valid?"snotifyToast--valid":"snotifyToast--invalid"],style:{"-webkit-animation-duration":t.toast.config.animation.time+"ms","animation-duration":t.toast.config.animation.time+"ms","-webkit-transition":t.toast.config.animation.time+"ms",transition:t.toast.config.animation.time+"ms"},on:{click:t.onClick,mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,animationend:t.onExitTransitionEnd}},[t.toast.config.showProgressBar&&t.toast.config.timeout>0?i("div",{staticClass:"snotifyToast__progressBar"},[i("span",{staticClass:"snotifyToast__progressBar__percentage",style:{width:100*t.state.progress+"%"}})]):t._e(),t._v(" "),t.toast.config.html?i("div",{staticClass:"snotifyToast__inner",domProps:{innerHTML:t._s(t.toast.config.html)}}):i("div",{staticClass:"snotifyToast__inner",class:{snotifyToast__noIcon:!1===t.toast.config.icon}},[t.toast.title?i("div",{staticClass:"snotifyToast__title"},[t._v(t._s(t._f("truncate")(t.toast.title,t.toast.config.titleMaxLength)))]):t._e(),t._v(" "),t.toast.body?i("div",{staticClass:"snotifyToast__body"},[t._v(t._s(t._f("truncate")(t.toast.body,t.toast.config.bodyMaxLength)))]):t._e(),t._v(" "),t.toast.config.type===t.state.promptType?i("snotify-prompt",{attrs:{toast:t.toast}}):t._e(),t._v(" "),void 0===t.toast.config.icon?i("div",{class:["snotify-icon","snotify-icon--"+t.toast.config.type]}):!1!==t.toast.config.icon?i("div",[i("img",{staticClass:"snotify-icon",attrs:{src:t.toast.config.icon}})]):t._e()],1),t._v(" "),t.toast.config.buttons?i("snotify-button",{attrs:{toast:t.toast}}):t._e()],1)},staticRenderFns:[]},void 0,e.extend({props:["toastData"],components:{SnotifyPrompt:s,SnotifyButton:a},data:function(){return{toast:this.toastData,animationFrame:null,state:{paused:!1,progress:0,animation:"",isDestroying:!1,promptType:o.prompt}}},methods:{initToast:function(){this.toast.config.timeout>0&&this.startTimeout(0)},onClick:function(){this.toast.eventEmitter.$emit("click"),this.toast.config.closeOnClick&&this.$snotify.remove(this.toast.id)},onMouseEnter:function(){this.toast.eventEmitter.$emit("mouseenter"),this.toast.config.pauseOnHover&&(this.state.paused=!0)},onMouseLeave:function(){this.toast.config.pauseOnHover&&this.toast.config.timeout&&(this.state.paused=!1,this.startTimeout(this.toast.config.timeout*this.state.progress)),this.toast.eventEmitter.$emit("mouseleave")},onExitTransitionEnd:function(){this.state.isDestroying||(this.initToast(),this.toast.eventEmitter.$emit("shown"))},startTimeout:function(t){var e=this;void 0===t&&(t=0);var i=performance.now(),o=function(){e.animationFrame=requestAnimationFrame(function(n){var s=n+t-i,a=Math.min(s/e.toast.config.timeout,1);e.state.paused?cancelAnimationFrame(e.animationFrame):s<e.toast.config.timeout?(e.state.progress=a,o()):(e.state.progress=1,cancelAnimationFrame(e.animationFrame),e.$snotify.emitter.$emit("remove",e.toast.id))})};o()},onRemove:function(){var t=this;this.state.isDestroying=!0,this.$emit("stateChanged","beforeHide"),this.toast.eventEmitter.$emit("beforeHide"),this.state.animation=this.toast.config.animation.exit,setTimeout(function(){t.$emit("stateChanged","hidden"),t.state.animation="snotifyToast--out",t.toast.eventEmitter.$emit("hidden"),setTimeout(function(){return t.$snotify.remove(t.toast.id,!0)},t.toast.config.animation.time/2)},this.toast.config.animation.time/2)}},created:function(){var t=this;this.$snotify.emitter.$on("toastChanged",function(e){t.toast.id===e.id&&t.initToast()}),this.$snotify.emitter.$on("remove",function(e){t.toast.id===e&&t.onRemove()})},mounted:function(){var t=this;this.$nextTick(function(){t.toast.eventEmitter.$emit("mounted"),t.state.animation="snotifyToast--in",t.$nextTick(function(){setTimeout(function(){t.$emit("stateChanged","beforeShow"),t.toast.eventEmitter.$emit("beforeShow"),t.state.animation=t.toast.config.animation.enter},t.toast.config.animation.time/5)})})},destroyed:function(){cancelAnimationFrame(this.animationFrame),this.toast.eventEmitter.$emit("destroyed")}}),void 0,!1,void 0,void 0,void 0);var c=n({render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.backdrop>=0?i("div",{staticClass:"snotify-backdrop",style:{opacity:t.backdrop}}):t._e(),t._v(" "),t._l(t.notifications,function(e,o){return i("div",{key:o,staticClass:"snotify",class:"snotify-"+o},t._l(t.notifications[o].slice(t.blockSize_a,t.blockSize_b),function(e){return i("toast",{key:e.id,attrs:{toastData:e},on:{stateChanged:t.stateChanged}})}))})],2)},staticRenderFns:[]},void 0,e.extend({components:{Toast:r},data:function(){return{notifications:{left_top:[],left_center:[],left_bottom:[],right_top:[],right_center:[],right_bottom:[],center_top:[],center_center:[],center_bottom:[]},dockSize_a:0,dockSize_b:0,blockSize_a:0,blockSize_b:0,backdrop:-1,withBackdrop:[]}},methods:{setOptions:function(t){this.$snotify.config.global.newOnTop?(this.dockSize_a=-this.$snotify.config.global.maxOnScreen,this.dockSize_b=void 0,this.blockSize_a=-this.$snotify.config.global.maxAtPosition,this.blockSize_b=void 0,this.withBackdrop=t.filter(function(t){return t.config.backdrop>=0})):(this.dockSize_a=0,this.dockSize_b=this.$snotify.config.global.maxOnScreen,this.blockSize_a=0,this.blockSize_b=this.$snotify.config.global.maxAtPosition,this.withBackdrop=t.filter(function(t){return t.config.backdrop>=0}).reverse()),this.notifications=this.splitToasts(t.slice(this.dockSize_a,this.dockSize_b)),this.stateChanged("mounted")},stateChanged:function(t){if(this.withBackdrop.length)switch(t){case"mounted":this.backdrop<0&&(this.backdrop=0);break;case"beforeShow":this.backdrop=this.withBackdrop[this.withBackdrop.length-1].config.backdrop;break;case"beforeHide":1===this.withBackdrop.length&&(this.backdrop=0);break;case"hidden":1===this.withBackdrop.length&&(this.backdrop=-1)}else this.backdrop>=0&&(this.backdrop=-1)},splitToasts:function(e){var i={};for(var o in t.SnotifyPosition)t.SnotifyPosition.hasOwnProperty(o)&&(i[t.SnotifyPosition[o]]=[]);return e.forEach(function(t){i[t.config.position].push(t)}),i}},created:function(){var t=this;this.$snotify.emitter.$on("snotify",function(e){t.setOptions(e)})}}),void 0,!1,void 0,void 0,void 0),f=function(){return(f=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function u(t,e,i,o){var n,s=arguments.length,a=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,o);else for(var r=t.length-1;r>=0;r--)(n=t[r])&&(a=(s<3?n(a):s>3?n(e,i,a):n(e,i))||a);return s>3&&a&&Object.defineProperty(e,i,a),a}function l(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var p,d=function(){function t(t,i,n,s){var a=this;this.id=t,this.title=i,this.body=n,this.config=s,this.eventEmitter=new e,this._eventsHolder=[],this.valid=void 0,this.config.type===o.prompt&&(this.value=""),this.on("hidden",function(){a._eventsHolder.forEach(function(t){a.eventEmitter.$off(t.event,t.action)})})}return t.prototype.on=function(t,e){var i=this;return this._eventsHolder.push({event:t,action:e}),this.eventEmitter.$on(t,function(){return e(i)}),this},t}(),h={global:{newOnTop:!0,maxOnScreen:8,maxAtPosition:8,oneAtTime:!1,preventDuplicates:!1},toast:{type:o.simple,showProgressBar:!0,timeout:2e3,closeOnClick:!0,pauseOnHover:!0,bodyMaxLength:150,titleMaxLength:16,backdrop:-1,icon:void 0,html:null,position:t.SnotifyPosition.rightBottom,animation:{enter:"fadeIn",exit:"fadeOut",time:400}},type:(p={},p[o.prompt]={timeout:0,closeOnClick:!1,buttons:[{text:"Ok",action:null,bold:!0},{text:"Cancel",action:null,bold:!1}],placeholder:"Enter answer here...",type:o.prompt},p[o.confirm]={timeout:0,closeOnClick:!1,buttons:[{text:"Ok",action:null,bold:!0},{text:"Cancel",action:null,bold:!1}],type:o.confirm},p[o.simple]={type:o.simple},p[o.success]={type:o.success},p[o.error]={type:o.error},p[o.warning]={type:o.warning},p[o.info]={type:o.info},p[o.async]={pauseOnHover:!1,closeOnClick:!1,timeout:0,showProgressBar:!1,type:o.async},p)};function m(t,e,i){return e===o.async?{value:function(){for(var t,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return t=2===e.length?{title:null,body:e[0],config:null,action:e[1]}:3===e.length?"string"==typeof e[1]?{title:e[1],body:e[0],config:null,action:e[2]}:{title:null,body:e[0],config:e[2],action:e[1]}:{title:e[1],body:e[0],config:e[3],action:e[2]},i.value.apply(this,[t])}}:{value:function(){for(var t,e,o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];return 1===o.length?t={title:null,body:o[0],config:null}:3===o.length?t={title:o[1],body:o[0],config:o[2]}:((e={title:null,config:null,body:o[0]})["string"==typeof o[1]?"title":"config"]=o[1],t=e),i.value.apply(this,[t])}}}function y(t){return t&&"object"==typeof t&&!Array.isArray(t)&&null!==t}function g(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i,o={};if(!t.length)return o;for(;t.length>0;){var n=t.shift();if(y(n))for(var s in n)y(n[s])?o[s]=g(o[s],n[s]):Object.assign(o,((i={})[s]=n[s],i))}return o}function v(t,e,i){return{value:function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return t[0].config=f({},t[0].config,{type:e}),i.value.apply(this,t)}}}var _=function(){function t(){this.emitter=new e,this.notifications=[],this.config=h}return t.prototype.emit=function(){this.emitter.$emit("snotify",this.notifications.slice())},t.prototype.get=function(t){return this.notifications.find(function(e){return e.id===t})},t.prototype.add=function(t){this.config.global.newOnTop?this.notifications.unshift(t):this.notifications.push(t),this.emit()},t.prototype.remove=function(t,e){return t?e?(this.notifications=this.notifications.filter(function(e){return e.id!==t}),this.emit()):void this.emitter.$emit("remove",t):this.clear()},t.prototype.clear=function(){this.notifications=[],this.emit()},t.prototype.button=function(t,e,i,o){var n=this;return void 0===e&&(e=!0),void 0===i&&(i=null),void 0===o&&(o=!1),{text:t,action:e?function(t){i(t),n.remove(t.id)}:i,bold:o}},t.prototype.create=function(t){if(!(this.config.global.oneAtTime&&0!==this.notifications.length||this.config.global.preventDuplicates&&1===this.notifications.filter(function(e){return e.config.type===t.config.type}).length)){var e=g(this.config.toast,this.config.type[t.config.type],t.config),i=new d(e.id?e.id:Math.floor(Math.random()*(Date.now()-1))+1,t.title,t.body,e);return this.add(i),i}},t.prototype.setDefaults=function(t){return this.config=g(this.config,t)},t.prototype.simple=function(t){return this.create(t)},t.prototype.success=function(t){return this.create(t)},t.prototype.error=function(t){return this.create(t)},t.prototype.info=function(t){return this.create(t)},t.prototype.warning=function(t){return this.create(t)},t.prototype.confirm=function(t){return this.create(t)},t.prototype.prompt=function(t){return this.create(t)},t.prototype.async=function(t){var e=this,i=t.action,n=this.create(t);return n.on("mounted",function(){i().then(function(t){return e.mergeToast(n,t,o.success)}).catch(function(t){return e.mergeToast(n,t,o.error)})}),n},t.prototype.mergeToast=function(t,e,i){e.body&&(t.body=e.body),e.title&&(t.title=e.title),t.config=i?g(t.config,this.config.global,this.config.toast[i],{type:i},e.config):g(t.config,e.config),e.html&&(t.config.html=e.html),this.emit(),this.emitter.$emit("toastChanged",t)},t.prototype.html=function(t,e){return this.create({title:null,body:null,config:f({},e,{html:t})})},u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"simple",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"success",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"error",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"info",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"warning",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"confirm",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"prompt",null),u([m,v,l("design:type",Function),l("design:paramtypes",[Object]),l("design:returntype",d)],t.prototype,"async",null),t}(),b={install:function(t,e){void 0===e&&(e={}),t.filter("truncate",function(t,e,i){return void 0===e&&(e=40),void 0===i&&(i="..."),t.length>e?t.substring(0,e)+i:t});var i=new _;i.setDefaults(e),t.prototype.$snotify=i,t.component("vue-snotify",c),"undefined"!=typeof window&&window.hasOwnProperty("Vue")&&(window.Snotify=i)}};"undefined"!=typeof window&&window.hasOwnProperty("Vue")&&window.Vue.use(b.install),t.default=b,t.SnotifyStyle=o,t.SnotifyToast=d,Object.defineProperty(t,"__esModule",{value:!0})});
